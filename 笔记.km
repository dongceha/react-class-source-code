{
    "root": {
        "data": {
            "id": "bud3wz0fuqg0",
            "created": 1558854822100,
            "text": "中心主题",
            "note": "https://react.jokcy.me/\n\n\nhttps://juejin.im/post/5a2276d5518825619a027f57"
        },
        "children": [
            {
                "data": {
                    "id": "bud3x0dovps0",
                    "created": 1558854825078,
                    "text": "React",
                    "expandState": "expand"
                },
                "children": [
                    {
                        "data": {
                            "id": "bud3xclycx40",
                            "created": 1558854851699,
                            "text": "createReactElement"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "bud3xfkldqo0",
                                    "created": 1558854858147,
                                    "text": "返回一个对象",
                                    "expandState": "expand"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "bud3xnickrc0",
                                            "created": 1558854875426,
                                            "text": "$$typeof: REACT_ELEMENT_TYPE,"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "bud3yaj3m2g0",
                                                    "created": 1558854925537,
                                                    "text": "指示是什么类型的"
                                                },
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "bud3xnie5ag0",
                                            "created": 1558854875428,
                                            "text": "type: type,"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bud3xnidyo80",
                                            "created": 1558854875428,
                                            "text": "key: key,"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bud3xnidvhc0",
                                            "created": 1558854875428,
                                            "text": "ref: ref,"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bud3xnidtko0",
                                            "created": 1558854875428,
                                            "text": "props: props,"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bud3xnie90w0",
                                            "created": 1558854875428,
                                            "text": "_owner: owner,"
                                        },
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "bud48c98c3c0",
                            "created": 1558855712936,
                            "text": "ReactElement"
                        },
                        "children": []
                    },
                    {
                        "data": {
                            "id": "bud4c2elkyg0",
                            "created": 1558856004949,
                            "text": "ReactBaseClasses"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "bud4klx25iw0",
                                    "created": 1558856674337,
                                    "text": "Component"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "bud4m760jow0",
                                            "created": 1558856798955,
                                            "text": "参数"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "bud4m8m4oo00",
                                                    "created": 1558856802107,
                                                    "text": "props"
                                                },
                                                "children": []
                                            },
                                            {
                                                "data": {
                                                    "id": "bud4m9oqr4o0",
                                                    "created": 1558856804441,
                                                    "text": "content"
                                                },
                                                "children": []
                                            },
                                            {
                                                "data": {
                                                    "id": "bud4majvf6o0",
                                                    "created": 1558856806324,
                                                    "text": "updater"
                                                },
                                                "children": []
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "data": {
                                    "id": "bud4koz4f9c0",
                                    "created": 1558856680992,
                                    "text": "PureComponent",
                                    "note": "相比Component,PureComponent增加了一个标识isPureReactComponent\n\n在更新时发现是PureComponent\n则增加一步\n```\n!shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n```"
                                },
                                "children": []
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "bud5ouh2ghk0",
                            "created": 1558859827528,
                            "text": "forwarRef"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "bud5p5sf8tc0",
                                    "created": 1558859852159,
                                    "text": "返回"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "bud5p85da4w0",
                                            "created": 1558859857296,
                                            "text": "{"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bud5p8x1ucw0",
                                            "created": 1558859858969,
                                            "text": "$$typeof: REACT_FORWARD_REF_TYPE"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "budn83pwbds0",
                                                    "created": 1558909295440,
                                                    "text": "一个Symbol"
                                                },
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "bud5pfvk2ow0",
                                            "created": 1558859874117,
                                            "text": "render"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bud5phzilfc0",
                                            "created": 1558859878710,
                                            "text": "}"
                                        },
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "bud8n4ab55s0",
                            "created": 1558868155489,
                            "text": "ReactContext"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "bud8rhvaz7k0",
                                    "created": 1558868498513,
                                    "text": "createContext",
                                    "expandState": "expand"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "bud8nq5x0600",
                                            "created": 1558868203112,
                                            "text": "返回Context"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "bud5p8x1ucw0",
                                                    "created": 1558859858969,
                                                    "text": "$$typeof: REACT_CONTEXT_TYPE"
                                                },
                                                "children": []
                                            },
                                            {
                                                "data": {
                                                    "id": "bud8qv5obqo0",
                                                    "created": 1558868449074,
                                                    "text": "_currentValue"
                                                },
                                                "children": []
                                            },
                                            {
                                                "data": {
                                                    "id": "bud8qxmpulc0",
                                                    "created": 1558868454458,
                                                    "text": "Consumer"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "bud8rb2sukw0",
                                                            "created": 1558868483729,
                                                            "text": "等于context自身"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "bud8nrcmvhc0",
                                                    "created": 1558868205695,
                                                    "text": "Provider"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "bud8r2rwlc00",
                                                            "created": 1558868465656,
                                                            "text": "$$typeof:REACT_PROVIDER_TYPE"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "bud8r87qfls0",
                                                            "created": 1558868477497,
                                                            "text": "_context"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "budnhc880r40",
                            "created": 1558910019240,
                            "text": "lazy"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "budnhf35a000",
                                    "created": 1558910025464,
                                    "text": "一个方法"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "budnhgliu080",
                                            "created": 1558910028752,
                                            "text": "返回",
                                            "expandState": "expand"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "budnhcexepc0",
                                                    "created": 1558910019646,
                                                    "text": "{"
                                                },
                                                "children": []
                                            },
                                            {
                                                "data": {
                                                    "id": "budnhcexzeo0",
                                                    "created": 1558910019647,
                                                    "text": "$$typeof: REACT_LAZY_TYPE,"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "budni0qqgzk0",
                                                            "created": 1558910072602,
                                                            "text": "一个Symbol"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "budnhcexxy00",
                                                    "created": 1558910019647,
                                                    "text": "_ctor: ctor,"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "budnhrp24nk0",
                                                            "created": 1558910052910,
                                                            "text": "Thenable"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "budnhceyf000",
                                                    "created": 1558910019647,
                                                    "text": "_status: -1,"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "budni7vf56w0",
                                                            "created": 1558910088123,
                                                            "text": "记录ctor的状态"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "budnhceydmo0",
                                                    "created": 1558910019647,
                                                    "text": "_result: null,"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "budnifamgxk0",
                                                            "created": 1558910104280,
                                                            "text": "ctor resolve返回的数据"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "budnhceyqqo0",
                                                    "created": 1558910019648,
                                                    "text": "  }"
                                                },
                                                "children": []
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "bud48f5cbk80",
                            "created": 1558855719231,
                            "text": "暴露的Api",
                            "expandState": "expand"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "bud48iqt1080",
                                    "created": 1558855727059,
                                    "text": "Children(处理props.children的方法)",
                                    "expandState": "collapse"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "bud48iqt3qg0",
                                            "created": 1558855727059,
                                            "text": "map,"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bud48iqsxc80",
                                            "created": 1558855727059,
                                            "text": "forEach,"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bud48iqta6o0",
                                            "created": 1558855727059,
                                            "text": "count,"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bud48iqt31c0",
                                            "created": 1558855727059,
                                            "text": "toArray,"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bud48iqt5fc0",
                                            "created": 1558855727059,
                                            "text": "only,"
                                        },
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "data": {
                                    "id": "bud48iqtkyo0",
                                    "created": 1558855727060,
                                    "text": "  createRef,",
                                    "note": "\n简单用法\n```\nconstructor(){\n\tthis.objRef=React.createRef()\n\t// this.objRef.current //组件实例\n}\nrender(){\n\treturn <Something ref={this.objRef}/>\n}\n```"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqtxvc0",
                                    "created": 1558855727060,
                                    "text": "  Component,"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqtsxk0",
                                    "created": 1558855727060,
                                    "text": "  PureComponent,",
                                    "note": "相比Component,添加了一个标识\n\n在检查更新时,根据标识,多了一步\n!shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqtep40",
                                    "created": 1558855727060,
                                    "text": "  createContext,"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqte7k0",
                                    "created": 1558855727060,
                                    "text": "  forwardRef,",
                                    "note": "用法\n```\n// 高阶函数 \n const MyHOC = (WrappedComponent) => {\n  class NewComponent extends React.Component{\n\trender (){\n       const {forwardRef,...rest} = this.props\n    \treturn <WrappedComponent  ref={forwardRef} {...rest}/>\n    }\n }\n return React.forwardRef((props,ref)=>(<NewComponent {...props} forwardRef={ref} />))\n}\n```"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "budngghvsw00",
                                    "created": 1558909950167,
                                    "text": "lazy"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqtea00",
                                    "created": 1558855727060,
                                    "text": "  Fragment: REACT_FRAGMENT_TYPE,"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqujbc0",
                                    "created": 1558855727061,
                                    "text": "  StrictMode: REACT_STRICT_MODE_TYPE,"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "budne3ej5rk0",
                                    "created": 1558909764938,
                                    "text": "Suspense:REACT_SUSPENSE_TYPE"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqu9i80",
                                    "created": 1558855727061,
                                    "text": "  unstable_AsyncMode: REACT_ASYNC_MODE_TYPE,"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqufns0",
                                    "created": 1558855727061,
                                    "text": "  unstable_Profiler: REACT_PROFILER_TYPE,"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqu0jk0",
                                    "created": 1558855727061,
                                    "text": "  createElement: __DEV__ ? createElementWithValidation : createElement,"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqu5a00",
                                    "created": 1558855727061,
                                    "text": "  cloneElement: __DEV__ ? cloneElementWithValidation : cloneElement,"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqu5s00",
                                    "created": 1558855727061,
                                    "text": "  createFactory: __DEV__ ? createFactoryWithValidation : createFactory,"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iqu5hs0",
                                    "created": 1558855727061,
                                    "text": "  isValidElement: isValidElement,"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bud48iquikg0",
                                    "created": 1558855727061,
                                    "text": "  version: ReactVersion,"
                                },
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "data": {
                    "id": "burhf242pkw0",
                    "created": 1560314753227,
                    "text": "ReactDom"
                },
                "children": [
                    {
                        "data": {
                            "id": "burhjy4odnc0",
                            "created": 1560315136377,
                            "text": "render"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "buri2yd7gfs0",
                                    "created": 1560316625812,
                                    "text": "legacyRenderSubtreeIntoContainer",
                                    "expandState": "expand"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "burhkjfo5gg0",
                                            "created": 1560315182755,
                                            "text": "legacyCreateRootFromDOMContainer\n创建根容器,返回ReactRoot\n其实就是FiberRoot",
                                            "note": "- 整个应用的起点\n- 包含应用挂载的目标节点\n- 记录整个应用更新过程中的各种信息"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "burhpxi0uog0",
                                                    "created": 1560315605193,
                                                    "text": "是否复用当前DOM"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "burhq8tjqdk0",
                                                            "created": 1560315629834,
                                                            "text": "是(通常用于服务端渲染)",
                                                            "note": "根据forceHydrate或容器是否有子节点(同时子节点还要有data-reactroot)决定是否复用Dom\n\n",
                                                            "font-weight": "bold"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "burhqpwr69k0",
                                                            "created": 1560315667033,
                                                            "text": "否"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "burhqqpme080",
                                                                    "created": 1560315668779,
                                                                    "text": "清空容器内容"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "burhxwxs1ag0",
                                                    "created": 1560316230882,
                                                    "text": "new ReactRoot"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buri0y8ajds0",
                                                            "created": 1560316468787,
                                                            "text": "DOMRenderer.createContainer->createFiberRoot"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "buri308v84o0",
                                            "created": 1560316629903,
                                            "text": "unbatchedUpdates(()=>ReactRoot.render)"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "buri3oshups0",
                                                    "created": 1560316683333,
                                                    "text": "DomRenderer.updateContainer"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buri3zoqz7k0",
                                                            "created": 1560316707051,
                                                            "text": "expirationTime = computeExpirationForFiber(currentTime, current)",
                                                            "note": "这次更新的 超时时间\nexpirationTime越小优先级越高"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "buri5yp4o7k0",
                                                            "created": 1560316861626,
                                                            "text": "updateContainerAtExpirationTime"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "buri6smkhcw0",
                                                                    "created": 1560316926774,
                                                                    "text": "scheduleRootUpdate"
                                                                },
                                                                "children": [
                                                                    {
                                                                        "data": {
                                                                            "id": "buri8irebls0",
                                                                            "created": 1560317062027,
                                                                            "text": "update=createUpdate",
                                                                            "note": "保存更新相关的信息"
                                                                        },
                                                                        "children": []
                                                                    },
                                                                    {
                                                                        "data": {
                                                                            "id": "buri9d48qwo0",
                                                                            "created": 1560317128107,
                                                                            "text": "enqueueUpdate(currentFiberRootFiber, update)",
                                                                            "note": "将更新加到该节点的Fiber内的队列"
                                                                        },
                                                                        "children": []
                                                                    },
                                                                    {
                                                                        "data": {
                                                                            "id": "burids4erso0",
                                                                            "created": 1560317474225,
                                                                            "text": "scheduleWork(current, expirationTime)\n开始任务调度"
                                                                        },
                                                                        "children": []
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "burhjz6zv3c0",
                            "created": 1560315138694,
                            "text": "hydrate"
                        },
                        "children": []
                    },
                    {
                        "data": {
                            "id": "burijr0qeug0",
                            "created": 1560317942011,
                            "text": "通用数据结构",
                            "expandState": "collapse"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "burijt2ascw0",
                                    "created": 1560317946460,
                                    "text": "FiberRoot"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "burijuvf0940",
                                            "created": 1560317950397,
                                            "text": "containerInfo"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "burijxh9bvk0",
                                                    "created": 1560317956071,
                                                    "text": "挂载的容器的DOM对象"
                                                },
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "burikkj18ps0",
                                            "created": 1560318006245,
                                            "text": "current"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "buriklnmuc00",
                                                    "created": 1560318008700,
                                                    "text": "Root节点对应的Fiber对象"
                                                },
                                                "children": []
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "data": {
                                    "id": "but792eqzg00",
                                    "created": 1560489192502,
                                    "text": "Fiber",
                                    "expandState": "expand"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "but79417kzc0",
                                            "created": 1560489196037,
                                            "text": "每个ReactElement对应一个 "
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "but7pvsit9s0",
                                            "created": 1560490510288,
                                            "text": "记录节点状态(state,props)"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "but7q1jlbrk0",
                                            "created": 1560490522809,
                                            "text": "串联整个应用"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "but7qajqmw00",
                                                    "created": 1560490542409,
                                                    "text": "children"
                                                },
                                                "children": []
                                            },
                                            {
                                                "data": {
                                                    "id": "but7qbu9jq80",
                                                    "created": 1560490545222,
                                                    "text": "sibling"
                                                },
                                                "children": []
                                            },
                                            {
                                                "data": {
                                                    "id": "but7qndr1bk0",
                                                    "created": 1560490570345,
                                                    "text": "return",
                                                    "note": "父节点"
                                                },
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "but7r6nseqw0",
                                            "created": 1560490612311,
                                            "text": "其他属性",
                                            "expandState": "expand"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "but7r8xt43s0",
                                                    "created": 1560490617270,
                                                    "text": "tag"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "but7rfgdjnc0",
                                                            "created": 1560490631453,
                                                            "text": "记录组件类型\n区分class components,func components,以及其他React 提供的components"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "but7sulq8i00",
                                                    "created": 1560490742793,
                                                    "text": "elementType"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "but7sz3kl7s0",
                                                            "created": 1560490752579,
                                                            "text": "createReactElement传入的type"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "but7xf5pips0",
                                                    "created": 1560491100993,
                                                    "text": "type"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "but7xgkvvsw0",
                                                            "created": 1560491104088,
                                                            "text": "异步组件resolve只会返回的内容"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "but7xs8k3u00",
                                                    "created": 1560491129464,
                                                    "text": "stateNode"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "but7xu62hrs0",
                                                            "created": 1560491133667,
                                                            "text": "组件实例\nfunc component 没有实例"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "but7xzxbsl40",
                                                    "created": 1560491146199,
                                                    "text": "pendingProps"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "but7y46enmo0",
                                                            "created": 1560491155455,
                                                            "text": "更新后产生的新的props"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "but7y92mj9k0",
                                                    "created": 1560491166110,
                                                    "text": "memoizedProps"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "but7yg2eodc0",
                                                            "created": 1560491181335,
                                                            "text": "老的props"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "but7yi6zy5k0",
                                                    "created": 1560491185966,
                                                    "text": "updateQueue"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "but7yk60sg00",
                                                            "created": 1560491190260,
                                                            "text": "当前组件产生的更新都推到该队列"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "buzecr1l0u80",
                                                            "created": 1561118588727,
                                                            "text": "单向列表结构"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "but7yxmko3c0",
                                                    "created": 1560491219559,
                                                    "text": "memoizedState"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "but7z1g97k80",
                                                            "created": 1560491227885,
                                                            "text": "上次渲染的state"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "but7zerv1280",
                                                    "created": 1560491256884,
                                                    "text": "mode"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "but7zfycit40",
                                                            "created": 1560491259453,
                                                            "text": ""
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "but81y7do080",
                                                    "created": 1560491455910,
                                                    "text": "alernate"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "but820m3pdc0",
                                                            "created": 1560491461154,
                                                            "text": "更新时会创建新的Fiber(workinProgress)\n老的Fiber.alernate指向workInProgress\nworkInProgress指向老的Fiber\n当更新在workInProgress完成后,交换两个fiber",
                                                            "note": "减少创建对象"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "buzegvoz10o0",
                                                                    "created": 1561118912305,
                                                                    "text": "在更新开始时,alernate被认为是workInProgress",
                                                                    "layout_right_offset": {
                                                                        "x": 35,
                                                                        "y": -1
                                                                    }
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buze70gc80o0",
                                                    "created": 1561118139026,
                                                    "text": "expirationTime"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buze83vui6o0",
                                                            "created": 1561118224858,
                                                            "text": "任务在未来的哪个时间点应该被完成"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "bwa39mmyi3k0",
                                                            "created": 1565860629798,
                                                            "text": "当有值的时候说明该节点正在工作"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buze7elhfkw0",
                                                    "created": 1561118169812,
                                                    "text": "childExpirationTime"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "bwa5te0c09s0",
                                                            "created": 1565867820519,
                                                            "text": "子树中优先级最高的expirationTime"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "data": {
                                    "id": "buze99oibhk0",
                                    "created": 1561118315839,
                                    "text": "Update",
                                    "expandState": "expand"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "buzeai2l2xc0",
                                            "created": 1561118412468,
                                            "text": "记录组件状态的改变"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "buzeam9s6s00",
                                            "created": 1561118421611,
                                            "text": "存放于UpdateQueue中"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "buzeaqkzirs0",
                                            "created": 1561118430995,
                                            "text": "允许多个Update存在(一个事件多次setState)"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "buzed8ksmxs0",
                                            "created": 1561118626894,
                                            "text": "属性"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "buzedbusv880",
                                                    "created": 1561118634030,
                                                    "text": "  expirationTime: ExpirationTime,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzedbusz480",
                                                            "created": 1561118634030,
                                                            "text": "// 更新的过期时间"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzedbutuds0",
                                                    "created": 1561118634031,
                                                    "text": "  tag: 0 | 1 | 2 | 3,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzedbutyr40",
                                                            "created": 1561118634031,
                                                            "text": "  // export const UpdateState = 0;"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "buzedbutvz40",
                                                            "created": 1561118634031,
                                                            "text": "  // export const ReplaceState = 1;"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "buzedbutgyw0",
                                                            "created": 1561118634031,
                                                            "text": "  // export const ForceUpdate = 2;"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "buzedbutx680",
                                                            "created": 1561118634031,
                                                            "text": "  // export const CaptureUpdate = 3;"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "buzedbutrps0",
                                                            "created": 1561118634031,
                                                            "text": "  // 指定更新的类型，值为以上几种"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzedbuuhgg0",
                                                    "created": 1561118634032,
                                                    "text": "  payload: any,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzedbutgyg0",
                                                            "created": 1561118634031,
                                                            "text": "  // 更新内容，比如`setState`接收的第一个参数"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzedbuugps0",
                                                    "created": 1561118634032,
                                                    "text": "  callback: (() => mixed) | null,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzedbuujdc0",
                                                            "created": 1561118634032,
                                                            "text": "  // 对应的回调，`setState`，`render`都有"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzedbuujrk0",
                                                    "created": 1561118634032,
                                                    "text": "  next: Update<State> | null,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzedbuuba80",
                                                            "created": 1561118634032,
                                                            "text": "  // 指向下一个更新"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzedbuuic00",
                                                    "created": 1561118634032,
                                                    "text": "  nextEffect: Update<State> | null,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzedbuu0e00",
                                                            "created": 1561118634032,
                                                            "text": "  // 指向下一个`side effect`"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "buzedxj1r3c0",
                                            "created": 1561118681209,
                                            "text": "UpdateQueue"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "buzee3277ow0",
                                                    "created": 1561118693250,
                                                    "text": "  baseState: State,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzee327bw00",
                                                            "created": 1561118693250,
                                                            "text": " // 每次操作完更新之后的`state`"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzee327y4g0",
                                                    "created": 1561118693251,
                                                    "text": "  firstUpdate: Update<State> | null,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzee3277ls0",
                                                            "created": 1561118693250,
                                                            "text": "  // 队列中的第一个`Update`"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzee327nw00",
                                                    "created": 1561118693251,
                                                    "text": "  lastUpdate: Update<State> | null,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzee327i5c0",
                                                            "created": 1561118693251,
                                                            "text": "  // 队列中的最后一个`Update`"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzee328k2w0",
                                                    "created": 1561118693252,
                                                    "text": "  firstCapturedUpdate: Update<State> | null,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzee327rp40",
                                                            "created": 1561118693251,
                                                            "text": "  // 第一个捕获类型的`Update`"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzee328lgw0",
                                                    "created": 1561118693252,
                                                    "text": "  lastCapturedUpdate: Update<State> | null,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzee328c0g0",
                                                            "created": 1561118693252,
                                                            "text": "  // 最后一个捕获类型的`Update`"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzee328hmo0",
                                                    "created": 1561118693252,
                                                    "text": "  firstEffect: Update<State> | null,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzee328m0g0",
                                                            "created": 1561118693252,
                                                            "text": "  // 第一个`side effect`"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzee3284w00",
                                                    "created": 1561118693252,
                                                    "text": "  lastEffect: Update<State> | null,",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "buzee328jbk0",
                                                            "created": 1561118693252,
                                                            "text": "  // 最后一个`side effect`"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "buzee328ljc0",
                                                    "created": 1561118693252,
                                                    "text": "  // 第一个和最后一个捕获产生的`side effect`"
                                                },
                                                "children": []
                                            },
                                            {
                                                "data": {
                                                    "id": "buzee32957s0",
                                                    "created": 1561118693253,
                                                    "text": "  firstCapturedEffect: Update<State> | null,"
                                                },
                                                "children": []
                                            },
                                            {
                                                "data": {
                                                    "id": "buzee3298480",
                                                    "created": 1561118693253,
                                                    "text": "  lastCapturedEffect: Update<State> | null,"
                                                },
                                                "children": []
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "data": {
                    "id": "buzxao52iko0",
                    "created": 1561172026768,
                    "text": "scheduler"
                },
                "children": [
                    {
                        "data": {
                            "id": "buzxb2u9a4o0",
                            "created": 1561172058766,
                            "text": "expiretime"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "buzx73z889s0",
                                    "created": 1561171747786,
                                    "text": "公式"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "buzx78ga0g80",
                                            "created": 1561171757524,
                                            "text": "((((currentTime - 2 + 5000 / 10) / 25) | 0) + 1) * 25"
                                        },
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "data": {
                                    "id": "buzx79f0zog0",
                                    "created": 1561171759626,
                                    "text": "作用"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "buzx7ahfpkw0",
                                            "created": 1561171761948,
                                            "text": "对数字取整",
                                            "note": "例如\n((((currentTime - 2 + 5000 / 10) / 25) | 0) + 1) * 25\n当currentTime范围在10002~10025\n返回10525\n"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "buzx9ggq5fs0",
                                            "created": 1561171931694,
                                            "text": "保证短时间内的setState任务获得相同的expireTime\n也就意味着相同的优先级"
                                        },
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "data": {
                                    "id": "buzxbpi0wyw0",
                                    "created": 1561172108092,
                                    "text": "种类"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "buzxbv1t2540",
                                            "created": 1561172120172,
                                            "text": "Sync模式"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "buzxbx5vagg0",
                                                    "created": 1561172124771,
                                                    "text": "需要立即执行"
                                                },
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "buzxc2g8t5k0",
                                            "created": 1561172136282,
                                            "text": "异步模式"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "buzxc3pvk6o0",
                                                    "created": 1561172139042,
                                                    "text": "允许被中断"
                                                },
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "buzxcfb1bdk0",
                                            "created": 1561172164266,
                                            "text": "指定context"
                                        },
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "bv0dmaylnn40",
                            "created": 1561218076207,
                            "text": "scheduleWork(fiber,expireTime)",
                            "note": "setState,forceUpdate 最后都会调用的方法\nscheduleRootUpdate也会调用它"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "bv0t5vzdq680",
                                    "created": 1561261927534,
                                    "text": "scheduleWorkToRoot(fiber,expireTime)"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "bv0t5xt5uf40",
                                            "created": 1561261931512,
                                            "text": "找到根节点的Fiber,即FiberRoot"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bv0t647idlc0",
                                            "created": 1561261945440,
                                            "text": "把当前节点到FiberRoot链上的Fiber的expirationTime和childrenExpirationTime更新",
                                            "note": "expirationTime代表任务在什么时候完成\n因为更新时到FiberRoot的链上的Fiber肯定都要更新,所以他的expirationTime都要更新"
                                        },
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "data": {
                                    "id": "bv0vasnw8pc0",
                                    "created": 1561267954350,
                                    "text": "requestWork",
                                    "expandState": "expand"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "bv0vb2vm7gg0",
                                            "created": 1561267976585,
                                            "text": "addRootToSchedule 将FiberRoot添加到调度链表中"
                                        },
                                        "children": []
                                    },
                                    {
                                        "data": {
                                            "id": "bv0vc7ezvxc0",
                                            "created": 1561268064828,
                                            "text": "是否是batchUpdates"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "bv0vcb1pszk0",
                                                    "created": 1561268072732,
                                                    "text": "是"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "bv0vljaeuvs0",
                                                            "created": 1561268795949,
                                                            "text": "return",
                                                            "note": "比如batchedUpdates方法\n\n先设置isBatchingUpdates,这导致requestWork时候不会立即更新,\n在完成回调后才执行更新\n\n类似的,onClick也是batchUpdate,所以如果多次this.setState是不会立即更新,而是onClick全执行完才可能(注意异步模式)更新\n```\nfunction batchedUpdates<A, R>(fn: (a: A) => R, a: A): R {\n  const previousIsBatchingUpdates = isBatchingUpdates;\n  isBatchingUpdates = true;\n  try {\n    return fn(a);\n  } finally {\n    isBatchingUpdates = previousIsBatchingUpdates;\n    if (!isBatchingUpdates && !isRendering) {\n      performSyncWork();\n    }\n  }\n}\n```\n"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "bv0vcbq0qe00",
                                                    "created": 1561268074201,
                                                    "text": "否",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "bv0vbfllbi80",
                                                            "created": 1561268004277,
                                                            "text": "根据expirationTime决定使用performSyncWork或者scheduleCallbackWithExpirationTime"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "bwaot71wd340",
                            "created": 1565921406464,
                            "text": "两阶段"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "bwaot8wlmow0",
                                    "created": 1565921410497,
                                    "text": "render"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bwaot9zbmwo0",
                                    "created": 1565921412839,
                                    "text": "commit"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "bwaoxr31or40",
                                            "created": 1565921763526,
                                            "text": "不可打断"
                                        },
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "bwaosk39vps0",
                            "created": 1565921356481,
                            "text": "全局变量",
                            "expandState": "expand"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "bwaosrcg6i80",
                                    "created": 1565921372273,
                                    "text": "isCommitting",
                                    "note": "用来标志是否处于commit阶段"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "bwaosrlv39s0",
                                    "created": 1565921372843,
                                    "text": "isWorking",
                                    "note": "是否在render阶段或者commit阶段"
                                },
                                "children": []
                            }
                        ]
                    }
                ]
            }
        ]
    },
    "template": "right",
    "theme": "fresh-blue-compat",
    "version": "1.4.43"
}